!(function (k) {
  (k.fn.tCheckAll = function (e) {
    e = k.extend(
      { checkTxt: 'Check All', unckeckTxt: 'Unckeck All', cheked: !1 },
      e
    );
    (e.that = k(this)), k.fn.tCheckAll.init(e);
  }),
    (k.fn.tCheckAll.init = function (n) {
      return n.that.each(function (e, c) {
        const t = k('#' + k(c).attr('id'));
        (c.init = function () {
          c.tSetValue(k(c)),
            c.tSetCheck(k(c)),
            t.on('click', function (e) {
              e.preventDefault(), (n.cheked = !n.cheked), c.tSetCheck(k(c));
              e = n.cheked ? 'beforeCheck' : 'beforeUnCheck';
              c.tCheck(k(c), e, n);
            });
        }),
          (c.tSetCheck = function (e) {
            e.closest('fieldset')
              .find(':checkbox')
              .each(function () {
                n.cheked
                  ? k(this).prop('checked', !0)
                  : k(this).prop('checked', !1);
              });
          }),
          (c.tSetValue = function (e) {
            void 0 === e.prop('value')
              ? n.cheked
                ? e.text(n.unckeckTxt)
                : e.text(n.checkTxt)
              : n.cheked
              ? e.prop('value', n.unckeckTxt)
              : e.prop('value', n.checkTxt);
          }),
          (c.tCheck = function (e, t) {
            c.tSetValue(e), e.trigger(t);
          }),
          c.init();
      });
    });
})(jQuery);
